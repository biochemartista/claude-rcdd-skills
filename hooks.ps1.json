{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "powershell -NoProfile -Command \"$input = $input | Out-String; $json = $input | ConvertFrom-Json -ErrorAction SilentlyContinue; if ($json.tool_input.command -match 'pubmed|chembl|drugbank|hmdb|pubchem|uniprot|pdb|opentargets|reactome|string|zinc') { Write-Host 'ğŸ”¬ [RCDD] Database query detected' -ForegroundColor Cyan }; Write-Output $input\""
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "powershell -NoProfile -Command \"$input = $input | Out-String; $json = $input | ConvertFrom-Json -ErrorAction SilentlyContinue; $output = $json.tool_output; if ($output -match 'PMID|DOI|ChEMBL|HMDB\\d') { Write-Host 'ğŸ“š [RCDD] References detected in output' -ForegroundColor Green }\""
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "command": "powershell -NoProfile -Command \"Write-Host 'ğŸ§¬ RCDD Context Preservation Guide' -ForegroundColor Magenta; Write-Host 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'; Write-Host ''; Write-Host 'ğŸ“‹ CRITICAL - Document before compacting:' -ForegroundColor Yellow; Write-Host ''; Write-Host '1. ACTIVE AGENT STATE'; Write-Host '   â€¢ Current agent chain stage'; Write-Host '   â€¢ Pending agent handoffs'; Write-Host '   â€¢ Workspace: .claude/outputs/[date]-[task]/'; Write-Host ''; Write-Host '2. RESEARCH CONTEXT'; Write-Host '   â€¢ Target/compound under investigation'; Write-Host '   â€¢ Key PMIDs and DOIs collected'; Write-Host '   â€¢ Hypothesis being tested'; Write-Host '   â€¢ Evidence strength assessment'; Write-Host ''; Write-Host '3. DATABASE RESULTS'; Write-Host '   â€¢ ChEMBL compound IDs'; Write-Host '   â€¢ UniProt accessions'; Write-Host '   â€¢ PDB structure codes'; Write-Host '   â€¢ HMDB metabolite IDs'; Write-Host ''; Write-Host '4. DOCUMENT STATE (if writing)'; Write-Host '   â€¢ Section being drafted'; Write-Host '   â€¢ Citation queue for @validator'; Write-Host '   â€¢ Figure specifications'; Write-Host ''; Write-Host 'ğŸ“– Reference: CLAUDE.md for agent routing' -ForegroundColor Cyan; Write-Host 'ğŸ“– Reference: WORKFLOWS_AND_BEST_PRACTICES.md' -ForegroundColor Cyan; Write-Host ''; Write-Host 'âš¡ Agent Chains to preserve:' -ForegroundColor Yellow; Write-Host '   Literature â†’ @literature-reviewer â†’ @scientific-writer â†’ @validator'; Write-Host '   Drug eval  â†’ @literature-reviewer â†’ @medicinal-chemist'; Write-Host '   Natural    â†’ @literature-reviewer (NATURAL_COMPOUND) â†’ @medicinal-chemist (HMDB)'; Write-Host '   Target     â†’ @target-evaluator + @literature-reviewer'; Write-Host ''; Write-Host 'âœ… Ready for compact' -ForegroundColor Green\""
          }
        ]
      },
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "powershell -NoProfile -Command \"Write-Host 'ğŸ§¬ [Auto-Compact] RCDD Context Window Full' -ForegroundColor Magenta; Write-Host ''; Write-Host 'âš ï¸  PRESERVE BEFORE COMPACTING:' -ForegroundColor Yellow; Write-Host '   â€¢ Active agent and chain position'; Write-Host '   â€¢ Compound/target identifiers'; Write-Host '   â€¢ Collected PMIDs/DOIs'; Write-Host '   â€¢ Current complexity mode (DIRECT/QUICK/STANDARD/DEEP)'; Write-Host '   â€¢ Pending @validator citations'; Write-Host ''; Write-Host 'ğŸ“– Reload: CLAUDE.md for routing logic' -ForegroundColor Cyan; Write-Host 'âœ… Auto-compact proceeding' -ForegroundColor Green\""
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "powershell -NoProfile -Command \"Write-Host 'ğŸ§¬ RCDD Session Summary' -ForegroundColor Magenta; Write-Host 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'; Write-Host ('Session ended: ' + (Get-Date)); Write-Host ''; Write-Host 'ğŸ“Š To resume research:' -ForegroundColor Yellow; Write-Host '   1. State the target/compound of interest'; Write-Host '   2. Mention any PMIDs/ChEMBL IDs to continue from'; Write-Host '   3. Specify which agent chain to resume'; Write-Host ''; Write-Host 'ğŸ’¡ Quick resume patterns:' -ForegroundColor Cyan; Write-Host '   \\\"Continue literature review on [target]...\\\"'; Write-Host '   \\\"Resume medicinal chemistry analysis of [compound]...\\\"'; Write-Host '   \\\"Validate the citations from our [document]...\\\"'; Write-Host ''; Write-Host 'âœ… Session complete' -ForegroundColor Green\""
          }
        ]
      }
    ]
  }
}
