{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "/bin/bash -c 'INPUT=$(cat); CMD=$(echo \"$INPUT\" | jq -r \".tool_input.command // empty\"); if echo \"$CMD\" | grep -qiE \"pubmed|chembl|drugbank|hmdb|pubchem|uniprot|pdb|opentargets|reactome|string|zinc\"; then echo \"ğŸ”¬ [RCDD] Database query detected\" >&2; fi; echo \"$INPUT\"'"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "/bin/bash -c 'INPUT=$(cat); OUTPUT=$(echo \"$INPUT\" | jq -r \".tool_output // empty\" | head -c 500); if echo \"$OUTPUT\" | grep -qiE \"PMID|DOI|ChEMBL|HMDB[0-9]\"; then echo \"ğŸ“š [RCDD] References detected in output\" >&2; fi'"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "command": "/bin/bash -c 'echo \"ğŸ§¬ RCDD Context Preservation Guide\"; echo \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\"; echo \"\"; echo \"ğŸ“‹ CRITICAL - Document before compacting:\"; echo \"\"; echo \"1. ACTIVE AGENT STATE\"; echo \"   â€¢ Current agent chain stage\"; echo \"   â€¢ Pending agent handoffs\"; echo \"   â€¢ @orchestrator phase (if DEEP mode)\"; echo \"\"; echo \"2. RESEARCH CONTEXT\"; echo \"   â€¢ Target/compound under investigation\"; echo \"   â€¢ Key PMIDs and DOIs collected\"; echo \"   â€¢ Hypothesis being tested\"; echo \"   â€¢ Evidence strength assessment\"; echo \"\"; echo \"3. DATABASE RESULTS\"; echo \"   â€¢ ChEMBL compound IDs\"; echo \"   â€¢ UniProt accessions\"; echo \"   â€¢ PDB structure codes\"; echo \"   â€¢ HMDB metabolite IDs\"; echo \"\"; echo \"4. DOCUMENT STATE (if writing)\"; echo \"   â€¢ Section being drafted\"; echo \"   â€¢ Citation queue for @validator\"; echo \"   â€¢ Figure specifications\"; echo \"\"; echo \"ğŸ“– Reference: CLAUDE.md for agent routing\"; echo \"ğŸ“– Reference: WORKFLOWS_AND_BEST_PRACTICES.md\"; echo \"\"; echo \"âš¡ Agent Chains to preserve:\"; echo \"   Literature â†’ @literature-reviewer â†’ @scientific-writer â†’ @validator\"; echo \"   Drug eval  â†’ @literature-reviewer â†’ @medicinal-chemist\"; echo \"   Natural    â†’ @literature-reviewer (NATURAL_COMPOUND) â†’ @medicinal-chemist (HMDB)\"; echo \"   Target     â†’ @target-evaluator + @literature-reviewer\"; echo \"\"; echo \"âœ… Ready for compact\"'"
          }
        ]
      },
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "/bin/bash -c 'echo \"ğŸ§¬ [Auto-Compact] RCDD Context Window Full\"; echo \"\"; echo \"âš ï¸  PRESERVE BEFORE COMPACTING:\"; echo \"   â€¢ Active agent and chain position\"; echo \"   â€¢ Compound/target identifiers\"; echo \"   â€¢ Collected PMIDs/DOIs\"; echo \"   â€¢ Current complexity mode (DIRECT/QUICK/STANDARD/DEEP)\"; echo \"   â€¢ Pending @validator citations\"; echo \"\"; echo \"ğŸ“– Reload: CLAUDE.md for routing logic\"; echo \"âœ… Auto-compact proceeding\"'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "/bin/bash -c 'echo \"ğŸ§¬ RCDD Session Summary\"; echo \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\"; echo \"Session ended: $(date)\"; echo \"\"; echo \"ğŸ“Š To resume research:\"; echo \"   1. State the target/compound of interest\"; echo \"   2. Mention any PMIDs/ChEMBL IDs to continue from\"; echo \"   3. Specify which agent chain to resume\"; echo \"\"; echo \"ğŸ’¡ Quick resume patterns:\"; echo \"   \\\"Continue literature review on [target]...\\\"\"; echo \"   \\\"Resume medicinal chemistry analysis of [compound]...\\\"\"; echo \"   \\\"Validate the citations from our [document]...\\\"\"; echo \"\"; echo \"âœ… Session complete\"'"
          }
        ]
      }
    ]
  }
}
